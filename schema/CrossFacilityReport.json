{
    "$schema": "https://github.com/saivaai/saiva-api/tree/dev/schema",
    "$ref": "#/definitions/CrossFacilityReport",
    "definitions": {
        "CrossFacilityReport": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "version": {
                    "type": "string"
                },
                "web_hook_name": {
                    "type": "string"
                },
                "type": {
                    "type": [ "string", "null" ]
                },
                "report_type": {
                    "type": "string"
                },
                "report_date": {
                    "type": "string"
                },
                "client": {
                    "type": "string"
                },
                "payload_length": {
                    "type": "integer"
                },
                "payload": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/FacilityRiskReport"
                    }
                }
            },
            "required": [
                "client",
                "payload",
                "payload_length",
                "report_date",
                "report_type",
                "version",
                "web_hook_name"
            ]
        },
        "FacilityRiskReport": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "facility_name": {
                    "type": "string"
                },
                "region_name": {
                    "type": "string"
                },
                "mrn": {
                    "type": "string"
                },
                "patient_name": {
                    "type": "dict",
                    "properties": {
                        "value": {"type": ["string", "null"]},
                        "detail_url": {"type": ["string", "null"]}
                    }
                },
                "unit": {
                    "type": [ "string", "null" ]
                },
                "room": {
                    "type": "string"
                },
                "rank_today": {
                    "type": "integer"
                },
                "rank_yesterday": {
                    "type": [ "integer", "string" ]
                },
                "rank_movement": {
                    "type": [ "integer", "string" ]
                },
                "payer": {
                    "type": [ "string", "null" ]
                },
                "physician": {
                    "type": [ "string", "null" ]
                },
                "initial_admission_date": {
                    "type": [ "string", "null" ]
                },
                "last_transfer_date": {
                    "type": [ "string", "null" ]
                },
                "visited": {
                    "type": [ "string", "null" ]
                }
            },
            "required": [
                "facility_name",
                "region_name",
                "mrn",
                "room",
                "rank_today"
            ],
            "title": "FacilityRiskReport"
        }
    }
}
